import{s as h}from"./index.4f25d41f.js";import{k as g}from"./@vueuse.248ba93f.js";import{r as m,b as B,J as T,E as _,o as a,c,a as p,W as v,M as k,u as r,n as I,av as x,F as C,a7 as E,S as i,U as b}from"./@vue.c38ebe97.js";import{_ as M,E as D}from"./index.c05953cf.js";function S(){const t=m(0),e=g(function(){t.value=(document.documentElement||document.body).scrollTop},50);return B(()=>{document.addEventListener("scroll",e)}),T(()=>{document.removeEventListener("scroll",e)}),t}const F=["level"],L=_({__name:"menuBarItem",props:{MenuItem:null},setup(t){const e=S();return(n,o)=>(a(),c("div",{class:"o_menu-bar_title",level:t.MenuItem.level},[p("span",{class:k({o_active:r(e)>=t.MenuItem.offset&&r(e)<t.MenuItem.offsetMax})},v(t.MenuItem.title),3)],8,F))}});const N=M(L,[["__scopeId","data-v-ccdd5969"]]);function $(t){const e=m([]);return I(()=>{e.value=f(t)}),x(()=>{e.value=f(t)}),e}function f(t){const e=[];return d(e,document.querySelector(t)),z(e),e}function d(t,e,n){const o=e==null?void 0:e.tagName.toLowerCase();if((e==null?void 0:e.nodeType)==1&&o[0]==="h"){const s={offsetMax:0};s.title=e.textContent+"",s.level=+o[1],s.offset=w(e),s.target=e,t.push(s)}else{if(!e||e.nodeType!=1)return;const s=Array.from(e.children);for(const l of s)d(t,l)}}function w(t){let e=t==null?void 0:t.offsetTop,n=t.offsetParent;for(;n!==null;)e+=n.offsetTop,n=n.offsetParent;return e}function z(t){for(let e=0,n=t.length;e<n;e++)e+1<n?t[e].offsetMax=t[e+1].offset:t[e].offsetMax=1/0}const A={class:"o_menu_title"},P={key:0,class:"o_menu_bar_container"},U=_({__name:"MenuBar",props:{body:null,menuTitle:null,style:null},emits:["MenuBarClick"],setup(t,{emit:e}){const o=$(t.body);function s(l){h(l.offset),e("MenuBarClick",l)}return(l,q)=>(a(),c("div",{class:"o_navigator_menu",style:b(t.style)},[p("h3",A,v(t.menuTitle||"\u76EE\u5F55"),1),r(o).length?(a(),c("div",P,[(a(!0),c(C,null,E(r(o),(u,y)=>(a(),i(N,{key:y,MenuItem:u,onClick:G=>s(u)},null,8,["MenuItem","onClick"]))),128))])):(a(),i(D,{key:1,title:"\u6682\u65E0\u6807\u9898"}))],4))}});const j=M(U,[["__scopeId","data-v-1da65201"]]);export{j as M};
